<c8y-list-group class="m-b-24">
  <div
    class="page-sticky-header hidden-xs c8y-list__item--double-actions c8y-list__item"
  >
    <div class="c8y-list__item__block">
      <div class="c8y-list__item__icon">
        <i
          class="invisible"
          c8yIcon="refresh"
        ></i>
      </div>
      <div class="c8y-list__item__body">
        <div class="content-flex-57">
          <div class="col-3">
            {{ 'CSV' | translate }}
          </div>
          <div class="col-2">
            {{ 'Upload date' | translate }}
          </div>
          <div class="col-2">
            {{ 'Total devices' | translate }}
          </div>
          <div class="col-2">
            {{ 'Successful devices' | translate }}
          </div>
          <div class="col-2">
            {{ 'Failed devices' | translate }}
          </div>
        </div>
      </div>
      <div class="c8y-list__item__actions"></div>
    </div>
  </div>
  <div
    class="d-contents"
  >

  <c8y-li
    *ngFor="let registration of bulkRegistrations; let i = index"
    class="c8y-list__item--double-actions"
    [ngClass]="{ 'c8y-list__item--no-expand': !detailsCollapsed }"
    [collapsed]="detailsCollapsed"
    #listItem
    id="{{ registration.id }}"
  >
  <div class="content-flex-58">
    <div class="col-3">
      <button
        class="btn-clean"
        type="button"
        title="{{ registration.csv }} - 1.0.1"
      
      >
        <span class="text-truncate">
          <strong class="text-muted m-r-4">{{ registration.csv }} </strong>
        </span>
      </button>
    </div>
    <div class="col-2">
      {{ registration.uploadDate }}
    </div>
    <div class="col-2">
      {{ registration.totalDevices }}
    </div>
    <div class="col-2">
      {{ registration.successfulDevices }}
    </div>
    <div class="col-2">
      {{ registration.failedDevices }}
    </div>
    <div class="flex-grow">
      <div class="m-t-8 visible-xs"></div>
      <div>
        <div
          class="progress progress-striped active"
          title="{{ progressBar }}%"
        >
          <div
            class="progress-bar progress-striped active progress-bar-primary"
            role="progressbar"
            [attr.aria-label]="'Progress' | translate"
            aria-valuenow="0"
            aria-valuemin="0"
            aria-valuemax="100"
            [style.width.%]="progressBarProgressFn(i)"
          >
          
            <span >
              {{ progressBarProgressFn(i) }}%
            </span>
          
          </div>
        </div>
      </div>
    </div>
    <!--
    <div class="col-4">
      <div class="p-t-8 visible-xs"></div>
      <small *ngIf="bulkOperation.progress.successful > 0" class="m-r-8 icon-flex">
        <i c8yIcon="check-circle" class="text-success m-r-4"></i>
        <span
          ngNonBindable
          translate
          [translateParams]="{ bulkOperationsCountSuccessful: bulkOperation.progress.successful }"
        >
          {{ bulkOperationsCountSuccessful }} successful
        </span>
      </small>
      <small *ngIf="bulkOperation.progress.failed > 0" class="m-r-8 icon-flex">
        <i c8yIcon="warning" class="text-danger m-r-4"></i>
        <span
          ngNonBindable
          translate
          [translateParams]="{ bulkOperationsCountFailed: bulkOperation.progress.failed }"
        >
          {{ bulkOperationsCountFailed }} failed
        </span>
      </small>
      <small *ngIf="bulkOperation.progress.executing > 0" class="m-r-8 icon-flex">
        <i c8yIcon="refresh" class="text-primary m-r-4"></i>
        <span
          ngNonBindable
          translate
          [translateParams]="{ bulkOperationsCountExecuting: bulkOperation.progress.executing }"
        >
          {{ bulkOperationsCountExecuting }} executing
        </span>
      </small>
      <small *ngIf="bulkOperation.progress.pending > 0" class="m-r-8 icon-flex">
        <i c8yIcon="clock-o" class="text-primary m-r-4"></i>
        <span
          ngNonBindable
          translate
          [translateParams]="{ bulkOperationsCountPending: bulkOperation.progress.pending }"
        >
          {{ bulkOperationsCountPending }} pending
        </span>
      </small>
    </div>
    -->
  </div>
  <!--
  <div class="c8y-list__item__footer">
    <div class="m-r-16">
      <span class="text-label-small m-r-4" translate>Start</span>
      <small class="icon-flex">
        <i c8yIcon="calendar" class="m-r-4"></i>
        <span>
          {{ bulkOperation.startDate | c8yDate }}
        </span>
      </small>
    </div>
    
    <div class="m-r-16" *ngIf="bulkOperationGeneralStatus.CANCELED !== bulkOperation.generalStatus">
      <span class="text-label-small m-r-4" translate>Finish</span>

      <small class="icon-flex">
        <i c8yIcon="calendar" class="m-r-4"></i>
        <span>{{ finishDate | c8yDate }}</span>
      </small>
      
      <button
        class="btn-help btn-help--sm"
        type="button"
        [attr.aria-label]="'Help' | translate"
        placement="right"
        triggers="focus"
        container="body"
        *ngIf="isStatusScheduled() || isStatusExecutingOrExecutingWithError()"
      ></button>
    </div>
  
  </div>
  -->
  <c8y-li-collapse class="m-b-16">
    <lwm2m-registrations-details
      [csvId]="registration.id">
    </lwm2m-registrations-details>
  </c8y-li-collapse>
  </c8y-li>
  
    
  </div>
</c8y-list-group>